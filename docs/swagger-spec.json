{"openapi":"3.0.0","paths":{"/portfolios":{"get":{"operationId":"PortfolioController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Portfolio"}}}}}}},"post":{"operationId":"PortfolioController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePortfolioDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/createPortfolioResponse"}}}}}}},"/portfolios/findByName":{"get":{"operationId":"PortfolioController_findByNameId","parameters":[{"name":"portfolio_name_id","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Portfolio"}}}}}}},"/portfolios/{uuid}":{"patch":{"operationId":"PortfolioController_update","parameters":[{"name":"uuid","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePortfolioDto"}}}},"responses":{"200":{"description":""}}},"delete":{"operationId":"PortfolioController_delete","parameters":[{"name":"uuid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}},"/portfolios/{id}/positions":{"post":{"operationId":"PortfolioController_addPortfolioPosition","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddPortfolioPositionDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/addPortfolioPositionResponse"}}}}}}},"/portfolios/{portfolioId}/positions/{positionId}":{"delete":{"operationId":"PortfolioController_removePortfolioPosition","parameters":[{"name":"portfolioId","required":true,"in":"path","schema":{"type":"string"}},{"name":"positionId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}}}}},"info":{"title":"Risk management trading tool based on incremental value at risk","description":"This api give you the ability to manage the risk of your trading systems by allowing adding new trades on your portfolio depending the value at risk threshold you are ok with","version":"0.1","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"Portfolio":{"type":"object","properties":{}},"CreatePortfolioParams":{"type":"object","properties":{"nbComputePeriods":{"type":"number","description":"The number of periods to compute the correlation and standard deviation of the portfolio var","example":20},"zscore":{"type":"number","description":"The zscore used for compute the portfolio var 1.645 for 90% confidence,1.96 for 95%,2.58 for 99%","example":1.645},"timeframe":{"type":"string","description":"The timeframe used to compute correlation and standard deviation of the var","example":"15m"},"nameId":{"type":"string","description":"Give the portfolio a unique explicit name","example":"crypto_15m"}},"required":["nbComputePeriods","zscore","timeframe","nameId"]},"CreatePortfolioConstraints":{"type":"object","properties":{"maxVarInDollar":{"type":"number","description":"The max value at risk in dollar you would like to set for your portfolio","example":1000},"maxOpenTradeSameSymbolSameDirection":{"type":"number","description":"The maximum of open positions for a pair in the same direction (if 1 then you can open only one BTC/USDT long, the second opportunity with BTC/USDT long will be rejected)","example":1}},"required":["maxVarInDollar","maxOpenTradeSameSymbolSameDirection"]},"CreatePortfolioDto":{"type":"object","properties":{"params":{"$ref":"#/components/schemas/CreatePortfolioParams"},"constraints":{"$ref":"#/components/schemas/CreatePortfolioConstraints"}},"required":["params","constraints"]},"createPortfolioResponse":{"type":"object","properties":{"uuid":{"type":"string","example":"168cb24d-a2fb-4df5-8add-264ea7de9d6e"}},"required":["uuid"]},"UpdatePortfolioDto":{"type":"object","properties":{"maxVarInDollar":{"type":"number","minimum":0,"description":"The max value at risk in dollar you would like to change for your portfolio","example":1000},"maxOpenTradeSameSymbolSameDirection":{"type":"number","minimum":1,"description":"The maximum of open positions for a pair in the same direction you would like to change (if 1 then you can open only one BTC/USDT long, the second opportunity with BTC/USDT long will be rejected)","example":1}}},"AddPortfolioPositionDto":{"type":"object","properties":{"pair":{"type":"string","description":"the pair you would like to add to your portfolio","example":"BTC/USDT"},"dollarAmount":{"type":"number","minimum":0,"description":"the position amount in dollar","example":1000},"direction":{"type":"object","description":"the direction of the position","example":"long"},"dataSource":{"type":"string","description":"the data source used to get the candles and compute the var","example":"binance_future"}},"required":["pair","dollarAmount","direction","dataSource"]},"addPortfolioPositionResponse":{"type":"object","properties":{"status":{"type":"string","example":"success","description":"position allowed to be add in portfolio"},"uuid":{"type":"string","example":"168cb24d-a2fb-4df5-8add-264ea7de9d6e","description":"uuid of the position"}},"required":["status","uuid"]}}}}